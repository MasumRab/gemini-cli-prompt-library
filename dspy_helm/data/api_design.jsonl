{"input": "Design a REST API for a TODO list application with endpoints for creating, reading, updating, and deleting TODO items.", "expected_output": "# TODO List API Design\n\n## Endpoints\n\n### Create TODO\n- **Endpoint**: `POST /api/todos`\n- **Request Body**: `{\"title\": \"Buy groceries\", \"description\": \"Milk, eggs, bread\", \"due_date\": \"2024-01-15\"}`\n- **Response**: `{\"id\": \"uuid\", \"title\": \"Buy groceries\", \"status\": \"pending\", \"created_at\": \"2024-01-10T10:00:00Z\"}`\n\n### List TODOs\n- **Endpoint**: `GET /api/todos`\n- **Query Params**: `?status=pending&limit=20&offset=0`\n- **Response**: `{\"todos\": [...], \"total\": 50, \"limit\": 20, \"offset\": 0}`\n\n### Get TODO\n- **Endpoint**: `GET /api/todos/{id}`\n- **Response**: `{\"id\": \"uuid\", \"title\": \"Buy groceries\", \"status\": \"pending\", ...}`\n\n### Update TODO\n- **Endpoint**: `PUT /api/todos/{id}`\n- **Request Body**: `{\"status\": \"completed\"}`\n- **Response**: Updated TODO object\n\n### Delete TODO\n- **Endpoint**: `DELETE /api/todos/{id}`\n- **Response**: `204 No Content`"}
{"input": "Design a REST API for user authentication with registration, login, logout, and token refresh capabilities.", "expected_output": "# Authentication API Design\n\n## Endpoints\n\n### Register User\n- **Endpoint**: `POST /api/auth/register`\n- **Request Body**: `{\"email\": \"user@example.com\", \"password\": \"secure123\", \"name\": \"John Doe\"}`\n- **Response**: `{\"user\": {\"id\": \"uuid\", \"email\": \"user@example.com\"}, \"message\": \"Registration successful\"}`\n\n### Login\n- **Endpoint**: `POST /api/auth/login`\n- **Request Body**: `{\"email\": \"user@example.com\", \"password\": \"secure123\"}`\n- **Response**: `{\"access_token\": \"jwt_token\", \"refresh_token\": \"jwt_refresh\", \"expires_in\": 3600}`\n\n### Logout\n- **Endpoint**: `POST /api/auth/logout`\n- **Headers**: `Authorization: Bearer {token}`\n- **Response**: `{\"message\": \"Logged out successfully\"}`\n\n### Refresh Token\n- **Endpoint**: `POST /api/auth/refresh`\n- **Request Body**: `{\"refresh_token\": \"jwt_refresh\"}`\n- **Response**: `{\"access_token\": \"new_jwt_token\", \"expires_in\": 3600}`\n\n### Get Current User\n- **Endpoint**: `GET /api/auth/me`\n- **Headers**: `Authorization: Bearer {token}`\n- **Response**: `{\"id\": \"uuid\", \"email\": \"user@example.com\", \"name\": \"John Doe\"}`"}
{"input": "Design a REST API for a file storage service with upload, download, list, and delete operations.", "expected_output": "# File Storage API Design\n\n## Endpoints\n\n### Upload File\n- **Endpoint**: `POST /api/files/upload`\n- **Content-Type**: `multipart/form-data`\n- **Body**: `file` (binary), `folder` (optional, default: \"/\")\n- **Response**: `{\"id\": \"uuid\", \"name\": \"document.pdf\", \"size\": 1024, \"folder\": \"/\", \"uploaded_at\": \"timestamp\"}`\n\n### Download File\n- **Endpoint**: `GET /api/files/{id}/download`\n- **Headers**: `Authorization: Bearer {token}`\n- **Response**: File binary content\n\n### List Files\n- **Endpoint**: `GET /api/files`\n- **Query Params**: `?folder=/&limit=50`\n- **Response**: `{\"files\": [...], \"folder\": \"/\"}`\n\n### Get File Info\n- **Endpoint**: `GET /api/files/{id}`\n- **Response**: File metadata\n\n### Delete File\n- **Endpoint**: `DELETE /api/files/{id}`\n- **Response**: `204 No Content`\n\n### Create Folder\n- **Endpoint**: `POST /api/folders`\n- **Request Body**: `{\"name\": \"Documents\", \"parent_path\": \"/\"}`\n- **Response**: Created folder info"}
{"input": "Design a REST API for a blog platform with posts, comments, categories, and tags management.", "expected_output": "# Blog Platform API Design\n\n## Endpoints\n\n### Create Post\n- **Endpoint**: `POST /api/posts`\n- **Request Body**: `{\"title\": \"My First Post\", \"content\": \"Hello world!\", \"category_id\": \"uuid\", \"tags\": [\"tech\", \"python\"]}`\n- **Response**: Created post with ID\n\n### List Posts\n- **Endpoint**: `GET /api/posts`\n- **Query Params**: `?category=tech&tag=python&page=1&limit=10`\n- **Response**: `{\"posts\": [...], \"total\": 100, \"page\": 1}`\n\n### Get Post\n- **Endpoint**: `GET /api/posts/{id}`\n- **Response**: Full post with comments\n\n### Update Post\n- **Endpoint**: `PUT /api/posts/{id}`\n- **Response**: Updated post\n\n### Delete Post\n- **Endpoint**: `DELETE /api/posts/{id}`\n- **Response**: `204 No Content`\n\n### Add Comment\n- **Endpoint**: `POST /api/posts/{id}/comments`\n- **Request Body**: `{\"content\": \"Great post!\", \"parent_id\": \"uuid (optional)\"}`\n- **Response**: Created comment\n\n### List Categories\n- **Endpoint**: `GET /api/categories`\n- **Response**: Tree of categories\n\n### List Tags\n- **Endpoint**: `GET /api/tags`\n- **Response**: List of all tags with post counts"}
{"input": "Design a REST API for a real-time chat messaging system with rooms and direct messages.", "expected_output": "# Chat Messaging API Design\n\n## Endpoints\n\n### Create Room\n- **Endpoint**: `POST /api/rooms`\n- **Request Body**: `{\"name\": \"General\", \"is_private\": false}`\n- **Response**: Room with ID and invite code\n\n### List Rooms\n- **Endpoint**: `GET /api/rooms **Response**: List`\n- of available rooms\n\n### Join Room\n- **Endpoint**: `POST /api/rooms/{id}/join`\n- **Response**: Room details and recent messages\n\n### Leave Room\n- **Endpoint**: `POST /api/rooms/{id}/leave`\n- **Response**: `{\"message\": \"Left room successfully\"}`\n\n### Send Message\n- **Endpoint**: `POST /api/rooms/{id}/messages`\n- **Request Body**: `{\"content\": \"Hello everyone!\", \"type\": \"text\"}`\n- **Response**: Created message\n\n### Get Messages\n- **Endpoint**: `GET /api/rooms/{id}/messages`\n- **Query Params**: `?before=timestamp&limit=50`\n- **Response**: List of messages\n\n### Send Direct Message\n- **Endpoint**: `POST /api/dm`\n- **Request Body**: `{\"recipient_id\": \"uuid\", \"content\": \"Hey!\"}`\n- **Response**: Created DM\n\n### Get DM History\n- **Endpoint**: `GET /api/dm/{user_id}`\n- **Response**: Direct message history"}
{"input": "Design a REST API for an e-commerce shopping cart with product management and checkout flow.", "expected_output": "# E-Commerce Cart API Design\n\n## Endpoints\n\n### List Products\n- **Endpoint**: `GET /api/products`\n- **Query Params**: `?category=electronics&min_price=10&max_price=1000&page=1`\n- **Response**: `{\"products\": [...], \"total\": 500}`\n\n### Get Product\n- **Endpoint**: `GET /api/products/{id}`\n- **Response**: Product details with reviews\n\n### Get Cart\n- **Endpoint**: `GET /api/cart`\n- **Response**: Cart with items, totals, and discounts\n\n### Add to Cart\n- **Endpoint**: `POST /api/cart/items`\n- **Request Body**: `{\"product_id\": \"uuid\", \"quantity\": 2}`\n- **Response**: Updated cart\n\n### Update Cart Item\n- **Endpoint**: `PUT /api/cart/items/{id}`\n- **Request Body**: `{\"quantity\": 5}`\n- **Response**: Updated cart item\n\n### Remove from Cart\n- **Endpoint**: `DELETE /api/cart/items/{id}`\n- **Response**: Updated cart\n\n### Apply Coupon\n- **Endpoint**: `POST /api/cart/coupon`\n- **Request Body**: `{\"code\": \"SAVE20\"}`\n- **Response**: Cart with discount applied\n\n### Checkout\n- **Endpoint**: `POST /api/checkout`\n- **Request Body**: `{\"shipping_address\": {...}, \"payment_method\": \"card\"}`\n- **Response**: Order confirmation with ID"}
{"input": "Design a REST API for a weather service that provides current conditions and forecasts.", "expected_output": "# Weather Service API Design\n\n## Endpoints\n\n### Current Weather\n- **Endpoint**: `GET /api/weather/current`\n- **Query Params**: `?location=New%20York&units=metric`\n- **Response**: `{\"location\": \"New York\", \"temperature\": 22, \"humidity\": 65, \"conditions\": \"partly_cloudy\", \"updated_at\": \"timestamp\"}`\n\n### Weather Forecast\n- **Endpoint**: `GET /api/weather/forecast`\n- **Query Params**: `?location=New%20York&days=7&units=metric`\n- **Response**: `{\"location\": \"New York\", \"forecast\": [{ \"date\": \"2024-01-15\", \"high\": 25, \"low\": 18, \"condition\": \"sunny\" }, ...]}`\n\n### Historical Weather\n- **Endpoint**: `GET /api/weather/history`\n- **Query Params**: `?location=New%20York&start=2024-01-01&end=2024-01-07`\n- **Response**: Historical weather data\n\n### Weather Alerts\n- **Endpoint**: `GET /api/weather/alerts`\n- **Query Params**: `?location=New%20York`\n- **Response**: Active weather alerts\n\n### UV Index\n- **Endpoint**: `GET /api/weather/uv-index`\n- **Query Params**: `?location=New%20York`\n- **Response**: Current UV index and forecast"}
{"input": "Design a REST API for a task queue management system with job scheduling and monitoring.", "expected_output": "# Task Queue API Design\n\n## Endpoints\n\n### Enqueue Job\n- **Endpoint**: `POST /api/jobs`\n- **Request Body**: `{\"task\": \"process_image\", \"payload\": {\"image_id\": \"uuid\"}, \"priority\": \"high\", \"delay\": 0}`\n- **Response**: `{\"job_id\": \"uuid\", \"status\": \"queued\"}`\n\n### Get Job Status\n- **Endpoint**: `GET /api/jobs/{id}`\n- **Response**: `{\"job_id\": \"uuid\", \"status\": \"completed\", \"result\": {...}, \"started_at\": \"timestamp\"}`\n\n### List Jobs\n- **Endpoint**: `GET /api/jobs`\n- **Query Params**: `?status=completed&task=process_image&limit=50`\n- **Response**: List of jobs with pagination\n\n### Cancel Job\n- **Endpoint**: `DELETE /api/jobs/{id}`\n- **Response**: `{\"message\": \"Job cancelled\"}`\n\n### Get Queue Stats\n- **Endpoint**: `GET /api/queues/default/stats`\n- **Response**: `{\"queued\": 150, \"processing\": 5, \"failed\": 2, \"workers\": 10}`\n\n### Schedule Recurring Job\n- **Endpoint**: `POST /api/schedules`\n- **Request Body**: `{\"task\": \"send_daily_report\", \"cron\": \"0 9 * * *\", \"payload\": {}}`\n- **Response**: Created schedule\n\n### List Schedules\n- **Endpoint**: `GET /api/schedules`\n- **Response**: List of scheduled jobs"}
{"input": "Design a REST API for a notification service supporting email, SMS, push, and in-app notifications.", "expected_output": "# Notification Service API Design\n\n## Endpoints\n\n### Send Notification\n- **Endpoint**: `POST /api/notifications`\n- **Request Body**: `{\"type\": \"email\", \"recipient\": \"user@example.com\", \"subject\": \"Welcome!\", \"body\": \"Hello!\"}`\n- **Response**: `{\"notification_id\": \"uuid\", \"status\": \"sent\"}`\n\n### Send Bulk Notifications\n- **Endpoint**: `POST /api/notifications/bulk`\n- **Request Body**: `{\"type\": \"push\", \"recipients\": [\"token1\", \"token2\"], \"title\": \"Alert\", \"body\": \"Test\"}`\n- **Response**: `{\"sent\": 2, \"failed\": 0}`\n\n### Get Notification History\n- **Endpoint**: `GET /api/notifications`\n- **Query Params**: `?user_id=uuid&type=email&limit=50`\n- **Response**: User's notification history\n\n### Get Notification Preferences\n- **Endpoint**: `GET /api/notifications/preferences`\n- **Response**: User's notification settings\n\n### Update Preferences\n- **Endpoint**: `PUT /api/notifications/preferences`\n- **Request Body**: `{\"email_enabled\": true, \"push_enabled\": false, \"quiet_hours\": \"22:00-07:00\"}`\n- **Response**: Updated preferences\n\n### Mark as Read\n- **Endpoint**: `PUT /api/notifications/{id}/read`\n- **Response**: `{\"message\": \"Marked as read\"}`"}
{"input": "Design a REST API for a code review system with pull requests, comments, and review assignments.", "expected_output": "# Code Review API Design\n\n## Endpoints\n\n### Create Pull Request\n- **Endpoint**: `POST /api/pull-requests`\n- **Request Body**: `{\"title\": \"Add user authentication\", \"repository\": \"repo-id\", \"source_branch\": \"feature/auth\", \"target_branch\": \"main\", \"description\": \"Implements JWT auth\"}`\n- **Response**: PR with ID and review status\n\n### List Pull Requests\n- **Endpoint**: `GET /api/pull-requests`\n- **Query Params**: `?repository=repo-id&status=open&author=user-id`\n- **Response**: List of PRs\n\n### Get Pull Request\n- **Endpoint**: `GET /api/pull-requests/{id}`\n- **Response**: Full PR details with diff\n\n### Add Review Comment\n- **Endpoint**: `POST /api/pull-requests/{id}/comments`\n- **Request Body**: `{\"file\": \"src/auth.py\", \"line\": 42, \"body\": \"Consider using a constant for this value\"}`\n- **Response**: Created comment\n\n### Request Review\n- **Endpoint**: `POST /api/pull-requests/{id}/reviews`\n- **Request Body**: `{\"reviewers\": [\"user-id-1\", \"user-id-2\"]}`\n- **Response**: Reviewers assigned\n\n### Submit Review\n- **Endpoint**: `PUT /api/pull-requests/{id}/reviews`\n- **Request Body**: `{\"decision\": \"approve\", \"summary\": \"LGTM!\", \"comments\": []}`\n- **Response**: Review submitted\n\n### Merge Pull Request\n- **Endpoint**: `POST /api/pull-requests/{id}/merge`\n- **Request Body**: `{\"strategy\": \"squash\"}`\n- **Response**: Merge completed"}
{"input": "Design a REST API for a subscription billing system with plans, invoices, and payment management.", "expected_output": "# Billing API Design\n\n## Endpoints\n\n### List Plans\n- **Endpoint**: `GET /api/plans`\n- **Response**: `{\"plans\": [{\"id\": \"basic\", \"name\": \"Basic\", \"price\": 9.99, \"features\": [...]}, ...]}`\n\n### Get Current Subscription\n- **Endpoint**: `GET /api/subscription`\n- **Response**: Current plan, status, and billing info\n\n### Change Plan\n- **Endpoint**: `PUT /api/subscription`\n- **Request Body**: `{\"plan_id\": \"pro\", \"prorated\": true}`\n- **Response**: Updated subscription\n\n### Cancel Subscription\n- **Endpoint**: `DELETE /api/subscription`\n- **Request Body**: `{\"reason\": \"too_expensive\", \"feedback\": \"Prices are high\"}`\n- **Response**: Cancellation confirmed\n\n### Get Invoices\n- **Endpoint**: `GET /api/invoices`\n- **Query Params**: `?limit=12`\n- **Response**: List of invoices with PDF links\n\n### Get Invoice\n- **Endpoint**: `GET /api/invoices/{id}`\n- **Response**: Invoice details\n\n### Update Payment Method\n- **Endpoint**: `PUT /api/payment-method`\n- **Request Body**: `{\"type\": \"card\", \"token\": \"stripe_token\"}`\n- **Response**: Payment method updated\n\n### Get Payment History\n- **Endpoint**: `GET /api/payments`\n- **Response**: List of successful payments"}
{"input": "Design a REST API for a search service with indexing, querying, and autocomplete functionality.", "expected_output": "# Search Service API Design\n\n## Endpoints\n\n### Search\n- **Endpoint**: `GET /api/search`\n- **Query Params**: `?q=python+tutorial&type=docs&page=1&limit=10&facets=language,version`\n- **Response**: `{\"results\": [...], \"total\": 1250, \"page\": 1, \"facets\": {...}}`\n\n### Autocomplete\n- **Endpoint**: `GET /api/search/autocomplete`\n- **Query Params**: `?q=pyth`\n- **Response**: `{\"suggestions\": [\"python\", \"python tutorial\", \"python docs\"]}`\n\n### Index Document\n- **Endpoint**: `POST /api/index`\n- **Request Body**: `{\"id\": \"doc-123\", \"type\": \"article\", \"title\": \"Python Tutorial\", \"content\": \"...\", \"tags\": [\"python\", \"tutorial\"]}`\n- **Response**: `{\"indexed\": true}`\n\n### Bulk Index\n- **Endpoint**: `POST /api/index/bulk`\n- **Request Body**: Array of documents\n- **Response**: `{\"indexed\": 100, \"failed\": 0}`\n\n### Delete Document\n- **Endpoint**: `DELETE /api/index/{id}`\n- **Response**: `{\"deleted\": true}`\n\n### Get Index Stats\n- **Endpoint**: `GET /api/index/stats`\n- **Response**: `{\"document_count\": 50000, \"index_size\": \"2.3GB\"}`\n\n### Reindex\n- **Endpoint**: `POST /api/index/reindex`\n- **Response**: `{\"task_id\": \"uuid\"}`"}
{"input": "Design a REST API for a monitoring dashboard with metrics, alerts, and dashboard customization.", "expected_output": "# Monitoring Dashboard API Design\n\n## Endpoints\n\n### Get Metrics\n- **Endpoint**: `GET /api/metrics`\n- **Query Params**: `?metric=cpu_usage&start=2024-01-10T00:00:00Z&end=2024-01-10T01:00:00Z&interval=5m`\n- **Response**: `{\"metric\": \"cpu_usage\", \"data_points\": [{ \"timestamp\": \"...\", \"value\": 45.2 }, ...]}`\n\n### List Dashboards\n- **Endpoint**: `GET /api/dashboards`\n- **Response**: List of user's dashboards\n\n### Get Dashboard\n- **Endpoint**: `GET /api/dashboards/{id}`\n- **Response**: Dashboard config with widgets\n\n### Create Dashboard\n- **Endpoint**: `POST /api/dashboards`\n- **Request Body**: `{\"name\": \"Production\", \"widgets\": [...]}`\n- **Response**: Created dashboard\n\n### Update Dashboard\n- **Endpoint**: `PUT /api/dashboards/{id}`\n- **Response**: Updated dashboard\n\n### Create Alert\n- **Endpoint**: `POST /api/alerts`\n- **Request Body**: `{\"name\": \"High CPU\", \"metric\": \"cpu_usage\", \"condition\": \"> 90\", \"threshold\": 90, \"duration\": \"5m\"}`\n- **Response**: Created alert\n\n### List Alerts\n- **Endpoint**: `GET /api/alerts`\n- **Query Params**: `?status=active`\n- **Response**: List of alerts\n\n### Get Alert History\n- **Endpoint**: `GET /api/alerts/{id}/history`\n- **Response**: Alert firing history"}
{"input": "Design a REST API for a configuration management system with environments and feature flags.", "expected_output": "# Configuration Management API Design\n\n## Endpoints\n\n### List Configs\n- **Endpoint**: `GET /api/configs`\n- **Query Params**: `?environment=production&type=feature_flags`\n- **Response**: List of configurations\n\n### Get Config\n- **Endpoint**: `GET /api/configs/{id}`\n- **Response**: Full config with versions\n\n### Create Config\n- **Endpoint**: `POST /api/configs`\n- **Request Body**: `{\"key\": \"feature.dark_mode\", \"value\": {\"enabled\": true, \"default\": false}, \"environments\": [\"production\"]}`\n- **Response**: Created config\n\n### Update Config\n- **Endpoint**: `PUT /api/configs/{id}`\n- **Request Body**: `{\"value\": {\"enabled\": true}}`\n- **Response**: Updated config\n\n### Rollback Config\n- **Endpoint**: `POST /api/configs/{id}/rollback`\n- **Request Body**: `{\"version\": 5}`\n- **Response\": Rolled back config\n\n### Toggle Feature Flag\n- **Endpoint**: `POST /api/feature-flags/{key}/toggle`\n- **Request Body**: `{\"environment\": \"staging\", \"enabled\": true}`\n- **Response**: Flag toggled\n\n### Get Feature Flags\n- **Endpoint**: `GET /api/feature-flags`\n- **Headers**: `X-Environment: production`\n- **Response**: All active feature flags for environment\n\n### Create Environment\n- **Endpoint**: `POST /api/environments`\n- **Request Body**: `{\"name\": \"staging\", \"description\": \"Staging environment\"}`\n- **Response\": Created environment"}
{"input": "Design a REST API for a machine learning model serving endpoint with prediction and model management.", "expected_output": "# ML Model Serving API Design\n\n## Endpoints\n\n### Get Prediction\n- **Endpoint**: `POST /api/models/{model_name}/predict`\n- **Request Body**: `{\"version\": \"latest\", \"input\": {\"text\": \"This is great!\"}}`\n- **Response**: `{\"prediction\": \"positive\", \"confidence\": 0.95}`\n\n### Batch Prediction\n- **Endpoint**: `POST /api/models/{model_name}/predict/batch`\n- **Request Body**: `{\"inputs\": [{\"text\": \"Good\"}, {\"text\": \"Bad\"}]}`\n- **Response**: `{\"predictions\": [...], \"model_version\": \"v2.1\"}`\n\n### List Models\n- **Endpoint**: `GET /api/models`\n- **Response**: List of available models\n\n### Get Model Info\n- **Endpoint**: `GET /api/models/{name}`\n- **Response**: Model metadata, version, accuracy\n\n### Get Model Versions\n- **Endpoint**: `GET /api/models/{name}/versions`\n- **Response**: All versions of the model\n\n### Deploy Model\n- **Endpoint**: `POST /api/models/{name}/deploy`\n- **Request Body**: `{\"version\": \"v2.1\", \"traffic_split\": {\"v2.0\": 50, \"v2.1\": 50}}`\n- **Response**: Deployment status\n\n### Get Predictions History\n- **Endpoint**: `GET /api/models/{name}/predictions`\n- **Query Params**: `?start=2024-01-10&limit=100`\n- **Response**: Historical predictions\n\n### Upload Model\n- **Endpoint**: `POST /api/models/upload`\n- **Request Body**: `{\"name\": \"sentiment\", \"version\": \"v2.2\", \"file\": \"model.tar.gz\"}`\n- **Response**: Upload confirmation"}
{"input": "Design a REST API for a document management system with versioning, sharing, and access control.", "expected_output": "# Document Management API Design\n\n## Endpoints\n\n### Upload Document\n- **Endpoint**: `POST /api/documents`\n- **Content-Type**: `multipart/form-data`\n- **Body**: `file`, `name`, `folder_id` (optional)\n- **Response**: Document with ID and version\n\n### Get Document\n- **Endpoint**: `GET /api/documents/{id}`\n- **Response**: Document metadata and current version\n\n### Download Document\n- **Endpoint**: `GET /api/documents/{id}/download`\n- **Response**: File binary content\n\n### List Documents\n- **Endpoint**: `GET /api/documents`\n- **Query Params**: `?folder_id=uuid&type=pdf&limit=50`\n- **Response**: List of documents\n\n### Update Document\n- **Endpoint**: `PUT /api/documents/{id}`\n- **Request Body**: `{\"name\": \"Updated Report\", \"folder_id\": \"new-folder\"}`\n- **Response**: Updated document\n\n### Delete Document\n- **Endpoint**: `DELETE /api/documents/{id}`\n- **Response**: `204 No Content`\n\n### Get Versions\n- **Endpoint**: `GET /api/documents/{id}/versions`\n- **Response**: All versions of document\n\n### Restore Version\n- **Endpoint**: `POST /api/documents/{id}/versions/{version}/restore`\n- **Response**: Restored version\n\n### Share Document\n- **Endpoint**: `POST /api/documents/{id}/share`\n- **Request Body**: `{\"email\": \"user@example.com\", \"permission\": \"read\"}`\n- **Response**: Share link or access granted\n\n### Get Access List\n- **Endpoint**: `GET /api/documents/{id}/access`\n- **Response**: Users with access and permissions"}
{"input": "Design a REST API for an analytics service with event tracking, dashboards, and report generation.", "expected_output": "# Analytics Service API Design\n\n## Endpoints\n\n### Track Event\n- **Endpoint**: `POST /api/analytics/events`\n- **Request Body**: `{\"event_type\": \"button_click\", \"user_id\": \"uuid\", \"properties\": {\"button\": \"signup\"}, \"timestamp\": \"2024-01-10T10:00:00Z\"}`\n- **Response**: `{\"tracked\": true}`\n\n### Track Batch Events\n- **Endpoint**: `POST /api/analytics/events/batch`\n- **Request Body**: `{\"events\": [...]}`\n- **Response**: `{\"tracked\": 100}`\n\n### Get Events\n- **Endpoint**: `GET /api/analytics/events`\n- **Query Params**: `?event_type=page_view&start=2024-01-01&end=2024-01-31&limit=1000`\n- **Response**: Paginated events\n\n### Get Funnel Analysis\n- **Endpoint**: `GET /api/analytics/funnels/{funnel_id}`\n- **Query Params**: `?start=2024-01-01&end=2024-01-31`\n- **Response**: Funnel conversion rates\n\n### Get Retention Data\n- **Endpoint**: `GET /api/analytics/retention`\n- **Query Params**: `?cohort=weekly&start=2024-01-01`\n- **Response**: Retention matrix\n\n### Create Dashboard\n- **Endpoint**: `POST /api/analytics/dashboards`\n- **Request Body**: `{\"name\": \"Sales Overview\", \"widgets\": [...]}`\n- **Response**: Dashboard created\n\n### Generate Report\n- **Endpoint**: `POST /api/analytics/reports`\n- **Request Body**: `{\"type\": \"pdf\", \"date_range\": {\"start\": \"2024-01-01\", \"end\": \"2024-01-31\"}, \"metrics\": [\"revenue\", \"users\"]}`\n- **Response**: Report with download link\n\n### Get Metrics Summary\n- **Endpoint**: `GET /api/analytics/summary`\n- **Query Params**: `?date_range=last_7_days`\n- **Response**: Key metrics overview"}
{"input": "Design a REST API for a social media feed with posts, likes, follows, and feed personalization.", "expected_output": "# Social Media Feed API Design\n\n## Endpoints\n\n### Create Post\n- **Endpoint**: `POST /api/posts`\n- **Request Body**: `{\"content\": \"Hello world!\", \"media_urls\": [\"https://...\"], \"visibility\": \"public\"}`\n- **Response**: Created post with ID\n\n### Get Feed\n- **Endpoint**: `GET /api/feed`\n- **Query Params**: `?type=home&limit=20&before=timestamp`\n- **Response**: Personalized feed of posts\n\n### Get User Feed\n- **Endpoint**: `GET /api/users/{id}/posts`\n- **Query Params**: `?limit=20`\n- **Response**: User's posts\n\n### Like Post\n- **Endpoint**: `POST /api/posts/{id}/like`\n- **Response**: Updated like count\n\n### Unlike Post\n- **Endpoint**: `DELETE /api/posts/{id}/like`\n- **Response**: Updated like count\n\n### Get Likes\n- **Endpoint**: `GET /api/posts/{id}/likes`\n- **Response**: List of users who liked\n\n### Comment on Post\n- **Endpoint**: `POST /api/posts/{id}/comments`\n- **Request Body**: `{\"content\": \"Great post!\"}`\n- **Response**: Created comment\n\n### Follow User\n- **Endpoint**: `POST /api/users/{id}/follow`\n- **Response**: Followed successfully\n\n### Unfollow User\n- **Endpoint**: `DELETE /api/users/{id}/follow`\n- **Response**: Unfollowed successfully\n\n### Get Followers\n- **Endpoint**: `GET /api/users/{id}/followers`\n- **Response**: List of followers\n\n### Get Following\n- **Endpoint**: `GET /api/users/{id}/following`\n- **Response**: List of followed users"}
{"input": "Design a REST API for an IoT device management system with device registration, telemetry, and remote commands.", "expected_output": "# IoT Device Management API Design\n\n## Endpoints\n\n### Register Device\n- **Endpoint**: `POST /api/devices`\n- **Request Body**: `{\"device_id\": \"sensor-001\", \"type\": \"temperature_sensor\", \"name\": \"Living Room Temp\", \"location\": \"home\"}`\n- **Response**: Device with API key\n\n### List Devices\n- **Endpoint**: `GET /api/devices`\n- **Query Params**: `?type=temperature_sensor&status=online`\n- **Response**: List of devices\n\n### Get Device Info\n- **Endpoint**: `GET /api/devices/{id}`\n- **Response**: Device metadata and status\n\n### Update Device\n- **Endpoint**: `PUT /api/devices/{id}`\n- **Request Body**: `{\"name\": \"Updated Name\", \"firmware_version\": \"1.2.0\"}`\n- **Response**: Updated device\n\n### Delete Device\n- **Endpoint**: `DELETE /api/devices/{id}`\n- **Response**: `204 No Content`\n\n### Send Command\n- **Endpoint**: `POST /api/devices/{id}/commands`\n- **Request Body**: `{\"command\": \"restart\", \"params\": {\"delay\": 5}}`\n- **Response**: Command queued\n\n### Get Telemetry\n- **Endpoint**: `GET /api/devices/{id}/telemetry`\n- **Query Params**: `?metric=temperature&start=2024-01-10T00:00:00Z&end=2024-01-10T01:00:00Z`\n- **Response**: Time-series telemetry data\n\n### Get Device Logs\n- **Endpoint**: `GET /api/devices/{id}/logs`\n- **Query Params**: `?level=error&limit=100`\n- **Response**: Device log entries\n\n### Update Device State\n- **Endpoint**: `PUT /api/devices/{id}/state`\n- **Request Body**: `{\"desired\": {\"mode\": \"auto\"}}`\n- **Response`: State updated"}
{"input": "Design a REST API for a content management system with articles, media, and workflow management.", "expected_output": "# Content Management API Design\n\n## Endpoints\n\n### Create Article\n- **Endpoint**: `POST /api/articles`\n- **Request Body**: `{\"title\": \"Getting Started\", \"content\": \"...\", \"status\": \"draft\", \"author_id\": \"uuid\"}`\n- **Response**: Created article with ID\n\n### Get Article\n- **Endpoint**: `GET /api/articles/{id}`\n- **Response**: Full article content\n\n### List Articles\n- **Endpoint**: `GET /api/articles`\n- **Query Params**: `?status=published&author=uuid&limit=20`\n- **Response**: List of articles\n\n### Update Article\n- **Endpoint**: `PUT /api/articles/{id}`\n- **Request Body**: `{\"content\": \"...\", \"status\": \"review\"}`\n- **Response**: Updated article\n\n### Publish Article\n- **Endpoint**: `POST /api/articles/{id}/publish`\n- **Response**: Published article with URL\n\n### Archive Article\n- **Endpoint**: `POST /api/articles/{id}/archive`\n- **Response**: Archived article\n\n### Upload Media\n- **Endpoint**: `POST /api/media`\n- **Content-Type**: `multipart/form-data`\n- **Body**: `file`, `alt_text`\n- **Response**: Media with URL\n\n### List Media\n- **Endpoint**: `GET /api/media`\n- **Query Params**: `?type=image&limit=50`\n- **Response**: List of media files\n\n### Submit for Review\n- **Endpoint**: `POST /api/articles/{id}/submit-review`\n- **Request Body**: `{\"reviewer_ids\": [\"uuid1\", \"uuid2\"]}`\n- **Response**: Submitted for review\n\n### Approve/Reject\n- **Endpoint**: `PUT /api/articles/{id}/review`\n- **Request Body**: `{\"decision\": \"approved\", \"comments\": \"LGTM\"}`\n- **Response`: Review decision recorded"}
{"input": "Design a REST API for a voting/polling system with questions, options, and real-time results.", "expected_output": "# Voting/Polling API Design\n\n## Endpoints\n\n### Create Poll\n- **Endpoint**: `POST /api/polls`\n- **Request Body**: `{\"question\": \"Best programming language?\", \"options\": [\"Python\", \"JavaScript\", \"Rust\"], \"expires_at\": \"2024-02-01T00:00:00Z\"}`\n- **Response**: Created poll with ID\n\n### Get Poll\n- **Endpoint**: `GET /api/polls/{id}`\n- **Response**: Poll with options and current vote counts\n\n### List Polls\n- **Endpoint**: `GET /api/polls`\n- **Query Params**: `?status=active&limit=20`\n- **Response**: List of polls\n\n### Vote\n- **Endpoint**: `POST /api/polls/{id}/vote`\n- **Request Body**: `{\"option_index\": 0}`\n- **Response**: Vote recorded, updated counts\n\n### Get Results\n- **Endpoint**: `GET /api/polls/{id}/results`\n- **Response**: Detailed results with percentages\n\n### Get User Vote\n- **Endpoint**: `GET /api/polls/{id}/vote`\n- **Response**: User's vote on this poll\n\n### Change Vote\n- **Endpoint**: `PUT /api/polls/{id}/vote`\n- **Request Body**: `{\"option_index\": 1}`\n- **Response**: Vote updated\n\n### Delete Poll\n- **Endpoint**: `DELETE /api/polls/{id}`\n- **Response**: `204 No Content`\n\n### Get Poll Statistics\n- **Endpoint**: `GET /api/polls/{id}/stats`\n- **Response**: Total votes, demographic data"}
